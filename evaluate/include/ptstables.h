#pragma once

#include "../../global/include/board.h"
#include "./positioneval.h"

// Middlegame
int pawnPSTMg[64] = {
    0, 0, 0, 0, 0, 0, 0, 0,
    50, 50, 50, 50, 50, 50, 50, 50,
    10, 10, 20, 30, 30, 20, 10, 10,
    5, 5, 10, 25, 25, 10, 5, 5,
    0, 0, 0, 20, 20, 0, 0, 0,
    5, -5, -10, 0, 0, -10, -5, 5,
    5, 10, 10, -20, -20, 10, 10, 5,
    0, 0, 0, 0, 0, 0, 0, 0};

int knightPSTMg[64] = {
    -50, -40, -30, -30, -30, -30, -40, -50,
    -40, -20, 0, 0, 0, 0, -20, -40,
    -30, 0, 10, 15, 15, 10, 0, -30,
    -30, 5, 15, 20, 20, 15, 5, -30,
    -30, 0, 15, 20, 20, 15, 0, -30,
    -30, 5, 10, 15, 15, 10, 5, -30,
    -40, -20, 0, 5, 5, 0, -20, -40,
    -50, -40, -30, -30, -30, -30, -40, -50};

int bishopPSTMg[64] = {
    -50, -40, -30, -30, -30, -30, -40, -50,
    -40, -20, 0, 0, 0, 0, -20, -40,
    -30, 0, 10, 15, 15, 10, 0, -30,
    -30, 5, 15, 20, 20, 15, 5, -30,
    -30, 0, 15, 20, 20, 15, 0, -30,
    -30, 5, 10, 15, 15, 10, 5, -30,
    -40, -20, 0, 5, 5, 0, -20, -40,
    -50, -40, -30, -30, -30, -30, -40, -50};

int rookPSTMg[64] = {
    0, 0, 5, 10, 10, 5, 0, 0,
    -5, 0, 0, 0, 0, 0, 0, -5,
    -5, 0, 0, 0, 0, 0, 0, -5,
    -5, 0, 0, 0, 0, 0, 0, -5,
    -5, 0, 0, 0, 0, 0, 0, -5,
    -5, 0, 0, 0, 0, 0, 0, -5,
    5, 10, 10, 10, 10, 10, 10, 5,
    0, 0, 0, 0, 0, 0, 0, 0};

int queenPSTMg[64] = {
    -20, -10, -10, -5, -5, -10, -10, -20,
    -10, 0, 5, 0, 0, 0, 0, -10,
    -10, 5, 5, 5, 5, 5, 0, -10,
    -5, 0, 5, 5, 5, 5, 0, -5,
    0, 0, 5, 5, 5, 5, 0, -5,
    -10, 0, 5, 5, 5, 5, 0, -10,
    -10, 0, 0, 0, 0, 0, 0, -10,
    -20, -10, -10, -5, -5, -10, -10, -20};

int kingPSTMg[64] = {
    -30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -30, -40, -40, -50, -50, -40, -40, -30,
    -20, -30, -30, -40, -40, -30, -30, -20,
    -10, -20, -20, -20, -20, -20, -20, -10,
    20, 20, 0, 0, 0, 0, 20, 20,
    20, 30, 10, 0, 0, 10, 30, 20};

// Endgame
int pawnPSTEg[64] = {
    0, 0, 0, 0, 0, 0, 0, 0,
    10, 10, 10, 10, 10, 10, 10, 10,
    20, 20, 20, 20, 20, 20, 20, 20,
    30, 30, 30, 30, 30, 30, 30, 30,
    40, 40, 40, 40, 40, 40, 40, 40,
    50, 50, 50, 50, 50, 50, 50, 50,
    60, 60, 60, 60, 60, 60, 60, 60,
    0, 0, 0, 0, 0, 0, 0, 0};

int knightPSTEg[64] = {
    -40, -30, -20, -20, -20, -20, -30, -40,
    -30, -10, 0, 0, 0, 0, -10, -30,
    -20, 0, 10, 15, 15, 10, 0, -20,
    -20, 5, 15, 20, 20, 15, 5, -20,
    -20, 0, 15, 20, 20, 15, 0, -20,
    -20, 5, 10, 15, 15, 10, 5, -20,
    -30, -10, 0, 5, 5, 0, -10, -30,
    -40, -30, -20, -20, -20, -20, -30, -40};

int bishopPSTEg[64] = {
    -10, -5, -5, -5, -5, -5, -5, -10,
    -5, 10, 10, 10, 10, 10, 10, -5,
    -5, 10, 20, 20, 20, 20, 10, -5,
    -5, 10, 20, 30, 30, 20, 10, -5,
    -5, 10, 20, 30, 30, 20, 10, -5,
    -5, 10, 20, 20, 20, 20, 10, -5,
    -5, 10, 10, 10, 10, 10, 10, -5,
    -10, -5, -5, -5, -5, -5, -5, -10};

int rookPSTEg[64] = {
    0, 0, 5, 10, 10, 5, 0, 0,
    10, 20, 20, 20, 20, 20, 20, 10,
    10, 20, 30, 30, 30, 30, 20, 10,
    10, 20, 30, 40, 40, 30, 20, 10,
    10, 20, 30, 40, 40, 30, 20, 10,
    10, 20, 30, 30, 30, 30, 20, 10,
    10, 20, 20, 20, 20, 20, 20, 10,
    0, 0, 5, 10, 10, 5, 0, 0};

int queenPSTEg[64] = {
    -10, -5, -5, -5, -5, -5, -5, -10,
    -5, 0, 5, 5, 5, 5, 0, -5,
    -5, 5, 10, 10, 10, 10, 5, -5,
    -5, 5, 10, 15, 15, 10, 5, -5,
    -5, 5, 10, 15, 15, 10, 5, -5,
    -5, 5, 10, 10, 10, 10, 5, -5,
    -5, 0, 5, 5, 5, 5, 0, -5,
    -10, -5, -5, -5, -5, -5, -5, -10};

int kingPSTEg[64] = {
    -50, -40, -30, -20, -20, -30, -40, -50,
    -30, -20, -10, 0, 0, -10, -20, -30,
    -30, -10, 20, 30, 30, 20, -10, -30,
    -30, -10, 30, 40, 40, 30, -10, -30,
    -30, -10, 30, 40, 40, 30, -10, -30,
    -30, -10, 20, 30, 30, 20, -10, -30,
    -30, -30, 0, 0, 0, 0, -30, -30,
    -50, -30, -30, -30, -30, -30, -30, -50
};

inline void initPSTTables() {
    for (int sq = 0; sq < 64; ++sq) {
        MgPST[PAWN][WHITE][sq] = pawnPSTMg[sq];
        MgPST[KNIGHT][WHITE][sq] = knightPSTMg[sq];
        MgPST[BISHOP][WHITE][sq] = bishopPSTMg[sq];
        MgPST[ROOK][WHITE][sq] = rookPSTMg[sq];
        MgPST[QUEEN][WHITE][sq] = queenPSTMg[sq];
        MgPST[KING][WHITE][sq] = kingPSTMg[sq];

        EgPST[PAWN][WHITE][sq] = pawnPSTEg[sq];
        EgPST[KNIGHT][WHITE][sq] = knightPSTEg[sq];
        EgPST[BISHOP][WHITE][sq] = bishopPSTEg[sq];
        EgPST[ROOK][WHITE][sq] = rookPSTEg[sq];
        EgPST[QUEEN][WHITE][sq] = queenPSTEg[sq];
        EgPST[KING][WHITE][sq] = kingPSTEg[sq];
    }

    // Flip Tables
    for (int sq = 0; sq < 64; ++sq) {
        int flipped = sq ^ 56;

        MgPST[PAWN][BLACK][sq] = pawnPSTMg[flipped];
        MgPST[KNIGHT][BLACK][sq] = knightPSTMg[flipped];
        MgPST[BISHOP][BLACK][sq] = bishopPSTMg[flipped];
        MgPST[ROOK][BLACK][sq] = rookPSTMg[flipped];
        MgPST[QUEEN][BLACK][sq] = queenPSTMg[flipped];
        MgPST[KING][BLACK][sq] = kingPSTMg[flipped];

        EgPST[PAWN][BLACK][sq] = pawnPSTEg[flipped];
        EgPST[KNIGHT][BLACK][sq] = knightPSTEg[flipped];
        EgPST[BISHOP][BLACK][sq] = bishopPSTEg[flipped];
        EgPST[ROOK][BLACK][sq] = rookPSTEg[flipped];
        EgPST[QUEEN][BLACK][sq] = queenPSTEg[flipped];
        EgPST[KING][BLACK][sq] = kingPSTEg[flipped];
    }
}